extends ../layouts/admin-layout.pug

block content
  .flex.items-center.justify-between.mb-6
    a(href="/admin", class="text-blue-600 hover:underline") ‚Üê Back to Admin Console
    h1(class="text-xl font-semibold") All Users

  .bg-white.shadow-lg.rounded-xl.p-6
    .mt-2(style="max-height: calc(100vh - 260px); overflow-y: auto;")
      if allUsers && allUsers.length
        .overflow-x-auto
          table(class="min-w-full text-sm")
            thead(class="sticky top-0 bg-white")
              tr(class="text-left border-b")
                th(class="py-2 px-3 w-[24ch]") Name
                th(class="py-2 px-3 w-[20ch]") Username
                th(class="py-2 px-3") Email
                th(class="py-2 px-3 w-[14ch]") Actions
            tbody
              each user in allUsers
                tr(class="border-b hover:bg-gray-50")
                  td(class="py-2 px-3")
                    span(class="block truncate", title=user.fullName)= user.fullName
                  td(class="py-2 px-3")
                    span(class="block truncate opacity-70", title=user.username)= user.username
                  td(class="py-2 px-3")
                    span(class="block truncate opacity-70", title=user.email)= user.email
                  td(class="py-2 px-3")
                    a(href=`/admin/users/${user.uuid}/show`, class="text-blue-600 hover:underline") View
      else
        .py-8.text-center.text-gray-500 No users found.
