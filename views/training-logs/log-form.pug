//- views/training-logs/log-form.pug
form(action=formAction method="POST" class="space-y-4")

  if errorMessage
    p.text-red-600.text-sm.bg-red-50.border.border-red-200.rounded.p-2 #{errorMessage}

  // Date
  div
    label.block.text-sm.font-medium.text-gray-700(for="logDate") Date
    input#logDate(
      type="date",
      name="logDate",
      required,
      class="w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-red-800",
      value=formData && formData.logDate ? toInputDate(formData.logDate) : ''
    )

  // Category
  div
    label.block.text-sm.font-medium.text-gray-700(for="logCategory") Category
    select#logCategory(
      name="logCategory",
      required,
      class="w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-red-800"
    )
      option(value="" disabled selected=!(formData.logCategory)) Select a category
      option(value="Bag/Pad Work" selected=formData.logCategory==='Bag/Pad Work') Bag/Pad Work
      option(value="Basics" selected=formData.logCategory==='Basics') Basics
      option(value="Cardio" selected=formData.logCategory==='Cardio') Cardio
      option(value="Dry Fire" selected=formData.logCategory==='Dry Fire') Dry Fire
      option(value="Field Training" selected=formData.logCategory==='Field Training') Field Training
      option(value="Forms" selected=formData.logCategory==='Forms') Forms
      option(value="Grappling" selected=formData.logCategory==='Grappling') Grappling
      option(value="Instruction" selected=formData.logCategory==='Instruction') Instruction
      option(value="Live Fire" selected=formData.logCategory==='Live Fire') Live Fire
      option(value="Meditation" selected=formData.logCategory==='Meditation') Meditation
      option(value="Recovery" selected=formData.logCategory==='Recovery') Recovery
      option(value="Sets" selected=formData.logCategory==='Sets') Sets
      option(value="Skill Drills" selected=formData.logCategory==='Skill Drills') Skill Drills
      option(value="Sparring" selected=formData.logCategory==='Sparring') Sparring
      option(value="Stretching" selected=formData.logCategory==='Stretching') Stretching
      option(value="Techniques" selected=formData.logCategory==='Techniques') Techniques
      option(value="Weightlifting" selected=formData.logCategory==='Weightlifting') Weightlifting
      option(value="Weapons Practice" selected=formData.logCategory==='Weapons Practice') Weapons Practice

  // Title
  div
    label.block.text-sm.font-medium.text-gray-700(for="logTitle") Title
    input#logTitle(
      type="text",
      name="logTitle",
      placeholder="e.g., Long Form 1 Practice",
      required,
      maxlength="50",
      class="w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-red-800",
      value=formData.logTitle || ''
    )

  // Description
  div
    label.block.text-sm.font-medium.text-gray-700(for="logDescription") Description
    textarea#logDescription(
      name="logDescription",
      rows="3",
      required,
      placeholder="Describe your training session...",
      class="w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-red-800"
    )= formData.logDescription || ''

  // Duration
  div
    label.block.text-sm.font-medium.text-gray-700(for="logDuration") Duration (minutes)
    input#logDuration(
      type="number",
      name="logDuration",
      min="1",
      required,
      class="w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-red-800",
      value=formData.logDuration || ''
    )

  // Related Belt (optional dropdown)
  div
    label.block.text-sm.font-medium.text-gray-700(for="logRelatedBelt") Related Belt
    select#logRelatedBelt(
      name="logRelatedBelt",
      class="w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-red-800"
    )
      option(value="N/A" selected=formData.logRelatedBelt==='N/A' || !formData.logRelatedBelt) N/A
      option(value="Yellow" selected=formData.logRelatedBelt==='Yellow') Yellow
      option(value="Orange" selected=formData.logRelatedBelt==='Orange') Orange
      option(value="Purple" selected=formData.logRelatedBelt==='Purple') Purple
      option(value="Blue" selected=formData.logRelatedBelt==='Blue') Blue
      option(value="Green" selected=formData.logRelatedBelt==='Green') Green
      option(value="Brown" selected=formData.logRelatedBelt==='Brown') Brown
      option(value="Red" selected=formData.logRelatedBelt==='Red') Red
      option(value="Black/Red" selected=formData.logRelatedBelt==='Black/Red') Black/Red
      option(value="Black" selected=formData.logRelatedBelt==='Black') Black

  // Intensity
  div
    label.block.text-sm.font-medium.text-gray-700(for="logIntensity") Intensity
    select#logIntensity(
      name="logIntensity",
      required,
      class="w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-red-800"
    )
      option(value="" disabled selected=!(formData.logIntensity)) Select intensity
      option(value="Low" selected=formData.logIntensity==='Low') Low
      option(value="Moderate" selected=formData.logIntensity==='Moderate') Moderate
      option(value="High" selected=formData.logIntensity==='High') High
      option(value="Extreme" selected=formData.logIntensity==='Extreme') Extreme

  // Private Entry
  div.flex.items-center.space-x-2
    input#logIsPrivate(
      type="checkbox"
      name="logIsPrivate"
      checked=formData.logIsPrivate
    )

    label.text-sm.text-gray-700(for="logIsPrivate") Private Entry

  // Submit Button
  button(
    type="submit",
    class="w-full bg-red-800 text-white py-2 rounded hover:bg-green-700 transition"
  ) #{submitButtonText}
